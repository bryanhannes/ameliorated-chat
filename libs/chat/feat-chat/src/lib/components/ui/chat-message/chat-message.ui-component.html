<ng-container *ngIf="vm$ | async as vm">
  <div class="message__wrapper">
    <div class="message__avatar">

      <ng-container *ngIf="vm.isUserMessage">
        <button (click)="userAvatarClicked()" class="button-user"
                [ngClass]="{ 'button-user-default': !vm.isDefaultUserIcon}">
          <img [src]="vm.avatarUrl" alt="" class="user-avatar">
          <img src="/assets/images/avatar/image.svg" alt="Image icon" class="image-icon">
        </button>
      </ng-container>

      <ng-container *ngIf="vm.isSystemMessage;">
        <button (click)="systemAvatarClicked()" class="button-system"
                [ngClass]="{ 'button-user-default': !vm.isDefaultUserIcon}">
          <img [src]="vm.avatarUrl" alt="Avatar Icon">
        </button>
      </ng-container>

      <ng-container *ngIf="vm.isAssistantMessage;">
        <img [src]="vm.avatarUrl" alt="Avatar Icon">
      </ng-container>

    </div>
    <div class="message__content" [ngClass]="{ 'message__content--user': vm.isUserMessage }">
      {{ vm.message }}
    </div>
  </div>
</ng-container>
