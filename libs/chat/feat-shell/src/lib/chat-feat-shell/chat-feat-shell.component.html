<ng-container *ngIf="vm$ | async as vm">
  <div class="page">
    <div class="page__sidebar" [ngClass]="{ 'page__sidebar-open': vm.sidebarOpen }">
      <ac-sidebar (closeSidebar)="closeHamburgerMenu()">
        <ng-container ac-sidebar-body>
          <ac-sidebar-content></ac-sidebar-content>
        </ng-container>

        <ng-container ac-sidebar-footer>
          <ac-sidebar-footer-content></ac-sidebar-footer-content>
        </ng-container>
      </ac-sidebar>
    </div>
    <button (click)="closeHamburgerMenu()" class="overlay" [ngClass]="{ 'overlay-visible': !vm.sidebarOpen }"></button>

    <div class="page__body" [ngClass]="{ 'page__body-open': vm.sidebarOpen }">
      <ac-header [sidebarOpen]="vm.sidebarOpen" (openHamburgerMenu)="openHamburgerMenu()"
                 (openSettingsMenu)="openSettingsMenu()">
        <div class="chat-header__wrapper">
          <div class="chat-header__title">
            {{ vm.currentChatTitle }}
          </div>
          <div class="chat-header__properties">
            <span class="chat-header__properties-property">
              Temp: {{ vm.temperatureOfCurrentChat }}
            </span>
            <span class="chat-header__properties-property-divider"></span>
            <span class="chat-header__properties-property">
              {{ vm.modelOfCurrentChat }}
            </span>
            <span class="chat-header__properties-property-divider"></span>
            <span class="chat-header__properties-property">
              {{ vm.messagesCountOfCurrentChat }} messages
            </span>
          </div>
        </div>
      </ac-header>
      <main>
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</ng-container>

